{"ast":null,"code":"var _jsxFileName = \"/home/x/reach/kick/github/src/components/participants/Nominee.js\";\nimport { Component } from \"react\";\nimport * as Backend from \"../../build/index.main.mjs\";\nimport * as Reach from \"@reach-sh/stdlib/ALGO\";\nimport { Context } from \"../../Context\";\nimport NomineeViews from \"./NomineeViews\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class Nominee extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      appState: \"\",\n      args: [],\n\n      /* Resolves */\n      resGetParams: null,\n      resAnnounce: null,\n      resUpdateReady: null\n    }; // Bind functions\n\n    this.getParamsExt = this.getParamsExt.bind(this);\n    this.announceExt = this.announceExt.bind(this);\n    this.updateExt = this.updateExt.bind(this);\n  }\n\n  componentDidMount() {\n    const [,,,,,, ctc,,] = this.context; // Parayı her 50 saniyede güncellemesi\n\n    this.interval = setInterval(async () => await this.updateBalance(), 1000); // Kontrat argümanları\n    // Reach'a bağlan\n\n    Backend.Nominee(ctc[0], this);\n    console.log(ctc[0]);\n  }\n\n  async updateBalance() {\n    const [account,,, setBalance] = this.context;\n    const balance = Reach.formatCurrency(await Reach.balanceOf(account), 4);\n    setBalance(balance);\n  }\n\n  async updateN(title, amount) {\n    const [account,,, setBalance] = this.context;\n    const balance = Reach.formatCurrency(await Reach.balanceOf(account), 4);\n    this.setState({\n      appState: \"winner\",\n      args: []\n    });\n    this.updateBalance();\n    console.log(\"11111\");\n  }\n\n  async getParams(address) {\n    console.log(\"asdadsdsaasdasdasddsa\");\n    const params = await new Promise(res => {\n      this.setState({\n        appState: \"getParams\",\n        resGetParams: res\n      });\n    });\n    this.updateBalance();\n    return params.titleName;\n  }\n\n  async announce(addr, title) {\n    console.log(\"111a\");\n    console.log(addr);\n    console.log(title);\n    const params = await new Promise(res => {\n      this.setState({\n        appState: \"announce\",\n        resAnnounce: res\n      });\n    });\n    return params.balance;\n  }\n\n  getParamsExt(params) {\n    this.state.resGetParams(params);\n  }\n\n  updateExt(params) {\n    this.state.resUpdateReady(params);\n  }\n\n  announceExt(params) {\n    this.state.resAnnounce(params);\n  }\n\n  async showOutcome(address) {\n    this.setState({\n      appState: \"showOutcome\",\n      args: [address]\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(NomineeViews, {\n      appState: this.state.appState,\n      args: this.state.args\n      /* Resolves */\n      ,\n      getParamsReady: this.state.resGetParams !== null,\n      announceReady: this.state.resAnnounce !== null,\n      updateReady: this.state.resUpdateReady !== null,\n      update: this.updateExt,\n      getParams: this.getParamsExt,\n      updateBalance: this.updateBalance,\n      announce: this.announceExt\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 16\n    }, this);\n  }\n\n}\nNominee.contextType = Context;","map":{"version":3,"sources":["/home/x/reach/kick/github/src/components/participants/Nominee.js"],"names":["Component","Backend","Reach","Context","NomineeViews","Nominee","constructor","props","state","appState","args","resGetParams","resAnnounce","resUpdateReady","getParamsExt","bind","announceExt","updateExt","componentDidMount","ctc","context","interval","setInterval","updateBalance","console","log","account","setBalance","balance","formatCurrency","balanceOf","updateN","title","amount","setState","getParams","address","params","Promise","res","titleName","announce","addr","showOutcome","render","contextType"],"mappings":"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","sourcesContent":["import { Component } from \"react\";\nimport * as Backend from \"../../build/index.main.mjs\";\nimport * as Reach from \"@reach-sh/stdlib/ALGO\";\n\nimport { Context } from \"../../Context\";\nimport NomineeViews from \"./NomineeViews\";\n\nexport class Nominee extends Component {\n    static contextType = Context;\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            appState: \"\",\n            args: [],\n            /* Resolves */\n            resGetParams: null,\n            resAnnounce: null,\n            resUpdateReady: null,\n        }\n\n        // Bind functions\n        this.getParamsExt = this.getParamsExt.bind(this);\n        this.announceExt = this.announceExt.bind(this);\n        this.updateExt = this.updateExt.bind(this);\n    }\n\n    componentDidMount() {\n        const [, , , , , , ctc, , ] = this.context;\n\n        // Parayı her 50 saniyede güncellemesi\n        this.interval = setInterval(async () => await this.updateBalance(), 1000);\n\n        // Kontrat argümanları\n\n        // Reach'a bağlan\n        Backend.Nominee(ctc[0], this);\n        console.log(ctc[0]);\n    }\n\n    async updateBalance() {\n        const [account, , , setBalance] = this.context;\n\n        const balance = Reach.formatCurrency(await Reach.balanceOf(account), 4);\n        setBalance(balance);\n    }\n\n    async updateN(title, amount) {\n\n        const [account, , , setBalance] = this.context;\n\n        const balance = Reach.formatCurrency(await Reach.balanceOf(account), 4);\n\n        this.setState({\n            appState: \"winner\",\n            args: []\n        });\n\n        this.updateBalance();\n        console.log(\"11111\")\n\n    }\n\n    async getParams(address) {\n        console.log(\"asdadsdsaasdasdasddsa\");\n        const params = await new Promise(res => {\n            this.setState({\n                appState: \"getParams\",\n                resGetParams: res\n            });\n        });\n\n        this.updateBalance();\n        return params.titleName;\n    }\n    \n    async announce(addr, title) {\n        console.log(\"111a\");\n        console.log(addr);\n        console.log(title);\n        const params = await new Promise(res => {\n            this.setState({\n                appState: \"announce\",\n                resAnnounce: res\n            });\n        });\n\n        return params.balance;\n    }\n\n    getParamsExt(params) {\n        this.state.resGetParams(params);\n    }\n\n    updateExt(params) {\n        this.state.resUpdateReady(params);\n    }\n\n    announceExt(params) {\n        this.state.resAnnounce(params);\n    }\n    async showOutcome(address) {\n        this.setState({\n            appState: \"showOutcome\",\n            args: [address]\n        });\n    }\n\n    render() {\n        return <NomineeViews\n            appState={this.state.appState}\n            args={this.state.args}\n            /* Resolves */\n            getParamsReady={this.state.resGetParams !== null}\n            announceReady={this.state.resAnnounce !== null}\n            updateReady={this.state.resUpdateReady !== null}\n\n            update={this.updateExt}\n            getParams={this.getParamsExt}\n            updateBalance={this.updateBalance}\n            announce={this.announceExt} />\n    }\n}"]},"metadata":{},"sourceType":"module"}